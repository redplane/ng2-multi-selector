<div class="dropdown">
  <div #MultiSelectorDropDown
       class="input-group ngx-multi-selector">
    <div class="dropdown-toggle"
         [attr.data-toggle]="bDisabled ? '': 'dropdown'"
         aria-haspopup="true"
         aria-expanded="false"
         [attr.disabled]="bDisabled">
      <input class="form-control ngx-multi-selector-title-box"
             [attr.disabled]="bDisabled"
             [placeholder]="!placeholderTitleDropDown ? '' : placeholderTitleDropDown"
             readonly="readonly"
             [value]="(!chosenItems || chosenItems.length < 1) ? '' : getChosenItemsTitle()">
    </div>
    <span class="input-group-addon"
          *ngIf="bClearButtonAvailable"
          [attr.disabled]="bDisabled"
          (click)="clearChosenItems()">
      <span class="glyphicon glyphicon-remove"></span>
    </span>
    <span class="input-group-addon dropdown-toggle"
          [attr.data-toggle]="bDisabled ? '': 'dropdown'"
          [attr.disabled]="bDisabled"
          aria-haspopup="true"
          aria-expanded="false">
        <span class="caret"></span>
    </span>
    <ul class="dropdown-menu"
        (click)="$event.stopPropagation();">
      <li *ngIf="bSearchBoxAvailable">
        <div class="col-lg-12">
          <div class="form-group">
            <div class="input-group">
              <input #txtSearch
                     class="form-control"
                     [(ngModel)]="keyword"
                     [placeholder]="!placeholderSearchDropDown ? '' : placeholderSearchDropDown">
              <span class="input-group-addon">
                <span class="glyphicon glyphicon-search"></span>
              </span>
            </div>
          </div>
        </div>
      </li>

      <ng-template ngFor
                   let-item
                   let-i="index"
                   [ngForOf]="items">
        <li [class.active]="getItemChosen(item)"
            (click)="clickSelectItem(item)">
          <a href="javascript:void(0);"
             *ngIf="i < limitItemAmount">

            <!--Item template-->
            <ng-template [ngTemplateOutlet]="itemTemplate || defaultItemTemplate"
                         [ngTemplateOutletContext]="{item:item, index:i}"></ng-template>
          </a>
        </li>
      </ng-template>
    </ul>
  </div>
</div>

<!--Default template of selected items list-->
<ng-template #defaultItemTemplate let-item="item"
             let-i="index">
  <span class="glyphicon glyphicon-check"
        *ngIf="getItemChosen(item)"></span>
  {{item[displayProperty]}}
</ng-template>
